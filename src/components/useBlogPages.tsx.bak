import * as React from 'react'
import { graphql, useStaticQuery } from 'gatsby'
import { DeepNonNullable } from 'utility-types'

const useBlogPages = () => {
  type TypeOfUseSiteMetadata = DeepNonNullable<Queries.CreaetBlogPagesQuery>

  const data = useStaticQuery<TypeOfUseSiteMetadata>(graphql`
    query CreaetBlogPages {
      allMarkdownRemark(sort: { frontmatter: { date: ASC } }) {
        edges {
          node {
            id
            fields {
              date
              year
              month
              day
              year_month
              slug
              url
            }
            frontmatter {
              title
            }
          }
        }
      }
    }
  `)

  return data
}

export default useBlogPages
